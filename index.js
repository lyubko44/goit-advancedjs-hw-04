import{a as P,S as q,i as g}from"./assets/vendor-Rdv7LHNr.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const O="46523265-c71f09449dcc8bc0189ac0d2d";async function L(r,a=15,t=1){const s=new URLSearchParams({key:O,q:r,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:a,page:t});return(await P.get(`https://pixabay.com/api/?${s}`)).data}const h=document.querySelector(".gallery"),D=({webformatURL:r,largeImageURL:a,tags:t,likes:s,views:e,comments:o,downloads:n})=>{const b=document.createElement("li"),c=document.createElement("a");c.href=a;const m=document.createElement("div");m.classList.add("image-container");const l=document.createElement("img");l.classList.add("image-preview"),l.src=r,l.alt=t,m.appendChild(l),c.appendChild(m);const u=document.createElement("div");return u.classList.add("card-description"),[{label:"Likes",value:s},{label:"Views",value:e},{label:"Comments",value:o},{label:"Downloads",value:n}].forEach(E=>{const p=document.createElement("span");p.classList.add("attribute"),p.innerHTML=`<span>${E.label}</span> ${E.value}`,u.appendChild(p)}),c.appendChild(u),b.appendChild(c),b},v=r=>{const a=document.createDocumentFragment();r.forEach(s=>{a.appendChild(D(s))});let t=h.querySelector(".gallery-list");t||(t=document.createElement("ul"),t.classList.add("gallery-list"),h.appendChild(t)),t.appendChild(a)},w=(r="An error occurred while loading images.")=>{h.innerHTML=`<span class="error">${r}</span>`},C=new q(".gallery a",{overlayOpacity:.8,captions:!0,captionDelay:250,captionPosition:"bottom",captionType:"attr",captionsData:"alt"}),H=document.querySelector(".search-form"),f=document.querySelector(".load-more"),I=document.querySelector(".gallery");let i=1,y=15,d="",S=0;H.addEventListener("submit",async r=>{r.preventDefault();const a=r.target;if(d=a.elements.search.value.trim(),!!d){a.reset(),i=1;try{const t=await L(d,y,i);if(S=t.totalHits,t.total===0)throw new Error("Sorry, there are no images matching your search query. Please try again!");v(t.hits),C.refresh(),f.style.display="flex"}catch(t){g.error({title:"Error",message:t.message}),w()}}});f.addEventListener("click",async()=>{i+=1;try{const r=await L(d,y,i);v(r.hits),C.refresh();const{height:a}=I.firstElementChild.getBoundingClientRect();window.scrollBy({top:a*2,behavior:"smooth"}),i*y>=S&&(f.style.display="none",g.info({title:"Info",message:"We're sorry, but you've reached the end of search results."}))}catch(r){g.error({title:"Error",message:r.message}),w()}});
//# sourceMappingURL=index.js.map
